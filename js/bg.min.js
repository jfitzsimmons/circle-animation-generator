const CIRCLES=function(){const t=[],e=["move"];let i="#FFFFFF",s=0,n=1,a=[1,1],h=[9,9];const r=document.getElementById("bg2").getContext("2d"),o=[],l=[],d={element:document.getElementById("bg"),initialize:function(){i=document.getElementById("bgColor").value;const t=window.getComputedStyle(document.getElementById("circles_spot"),null),e=parseInt(t.getPropertyValue("width"));this.width=e,this.height=500,this.element.style.width=`${e}px`,this.element.style.height="500px",r.canvas.width=this.width,r.canvas.height=this.height,r.canvas.style.background=i,document.getElementById("circles_spot").appendChild(this.element)}},m={create:function(){const t=Object.create(this);return t.ani=y(e),t.radius=0,t.randomRad=u(h[1],h[0]),t.radiusStroke=t.randomRad+3,t.x=u(d.width-30,30),t.y=u(d.height-30,30),t.curr=0,t.strokeStyle=y(l),t.light=u(60,10),t.color=y(o),t.start=Math.random()*Math.PI*2,t.speed=u(8,1),t.dx=Math.cos(t.start)*u(.1*a[1],.1*a[0]),t.dy=Math.sin(t.start)*u(.1*a[1],.1*a[0]),t.element=document.createElement("div"),jQuery(t.element).css({width:`${t.radius}px`,height:`${t.radius}px`,backgroundColor:`hsl(${t.color},100%, ${t.light}%)`,left:`${t.x}px`,top:`${t.y}px`}),t.element.classList.add("circle"),d.element.appendChild(t.element),t},draw:function(t){this.radius<this.randomRad&&void 0!==this.radius?(this.radius+=this.randomRad/80,jQuery(this.element).css({width:`${this.radius}px`,height:`${this.radius}px`,backgroundColor:`hsl(${this.color+=.3},100%,${this.light+=.3}%)`}),requestAnimationFrame(()=>this.draw(t))):(r.lineWidth=2,r.strokeStyle=this.strokeStyle,this.setStart(t))},setStart:function(t){const e=d.width/2,i=d.height/2;"rotate"===this.ani?this.x>e?this.start=4.7:this.start=1.6:"move2"===this.ani&&(this.x>e&&this.y>i?this.start=.9:this.x<e&&this.y>i?this.start=2.5:this.x<e&&this.y<i?this.start=3.8:this.start=5.6),requestAnimationFrame(()=>this.addStroke(t))},addStroke:function(e,s){const n=this.radius/2;if(r.beginPath(),r.arc(this.x+n,this.y+n,n+4,this.start,s,!1),r.stroke(),this.curr+=1.7,this.curr<101)requestAnimationFrame(function(){e.addStroke(e,2*Math.PI*e.curr/100+e.start)});else{const s=3.3*this.radiusStroke;r.clearRect(this.x-s/2,this.y-s/2,s,s),jQuery(this.element).css({boxShadow:`0 0 0 3px ${this.strokeStyle}`,border:`3px solid ${i}`,left:`${this.x-=3}px`,top:`${this.y-=3}px`}),"rotate"===this.ani&&requestAnimationFrame(()=>this.rotate(e)),"move"===this.ani&&requestAnimationFrame(()=>this.move(e)),"move2"===this.ani&&requestAnimationFrame(()=>this.move2(e)),t.length>0&&g()}},move2:function(t){this.x>d.width/2&&this.y>d.height/2?this.element.style.animation=`moveL ${u(350,30)}s linear 0s infinite\n       alternate, moveU ${u(350,30)}s linear 0s infinite alternate`:this.x<d.width/2&&this.y>d.height/2?this.element.style.animation=`moveR ${u(350,30)}s linear 0s infinite\n       alternate, moveU ${u(350,30)}s linear 0s infinite alternate`:this.x<d.width/2&&this.y<d.height/2?this.element.style.animation=`moveR ${u(350,30)}s linear 0s infinite\n       alternate, moveD ${u(350,30)}s linear 0s infinite alternate`:this.element.style.animation=`moveL ${u(350,30)}s linear 0s infinite\n       alternate, moveD ${u(350,30)}s linear 0s infinite alternate`,this.element.classList.add("circle-2")},move:function(t){(this.x>d.width-(this.randomRad+10)||this.x<0)&&(this.dx=-this.dx),(this.y>d.height-(this.randomRad+10)||this.y<0)&&(this.dy=-this.dy),this.x-=this.dx,this.y-=this.dy,jQuery(this.element).css({top:`${this.y}px`,left:`${this.x}px`}),requestAnimationFrame(()=>this.move(t))},rotate:function(t){const e=1e3/(Math.abs(this.y-d.height/2)+100)*150;this.x>d.width/2?this.element.style.transformOrigin=`-${e}% center`:this.element.style.transformOrigin=`${e}% center`,this.element.classList.add("circle-2")}},c=t=>requestAnimationFrame(()=>t.draw(t)),u=(t,e)=>Math.random()*(t-e)+e,y=t=>t[Math.floor(Math.random()*t.length)];function g(){t.length<n&&(t.push(m.create()),c(t[s]),s++)}document.getElementById("generate").addEventListener("click",function(t){t.preventDefault(),a=document.getElementById("speed").value.split(",").map(Number),h=document.getElementById("size").value.split(",").map(Number),n=document.getElementById("number").value,document.getElementsByName("colors").forEach(function(t){!function(t){l.push(t);let e=parseInt(t.substr(1,2),16),i=parseInt(t.substr(3,2),16),s=parseInt(t.substr(5,2),16);e/=255,i/=255,s/=255;const n=Math.max(e,i,s),a=Math.min(e,i,s);let h=(n+a)/2;if(n==a)h=0;else{const t=n-a;switch(n){case e:h=(i-s)/t+(i<s?6:0);break;case i:h=(s-e)/t+2;break;case s:h=(e-i)/t+4}h/=6}h=Math.round(360*h),o.push(h)}(t.value)}),d.initialize(),g()})}();document.body.style.visibility="visible";
